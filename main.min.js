javascript:!async function(){String.prototype.replaceAll=function(e,t){return this.replace(RegExp(e,"g"),t)},console.log("Getting links...");for(var e,t=document.documentElement.innerHTML,n=/href="(sviluppo\.videolezioni\.vis.*lez=[0-9]*)">/gi,i=[];e=n.exec(t);)i.push(e[1].replaceAll("&amp;","&"));document.documentElement.innerHTML=`Checking ${i.length} links...`;let l=async e=>{document.documentElement.innerHTML+=".";try{let t=await fetch("https://didattica.polito.it/portal/pls/portal/"+e),n=await t.text(),i=n.match(/https:\/\/video\.polito\.it\/dl\/.*\.mp4/gi);if(i)return i[0]}catch(l){}return null},o=[];for(let[r,a]of i.entries()){let c=await l(a);c&&o.push(c)}let p=o.join("\n");document.documentElement.innerHTML=`Found ${o.length} videos. You can use the following with JDownloader: <br> The text has been automatically copied into the clipboard <br><br>`,document.documentElement.innerHTML+=`<textarea readonly>${p}</textarea>`,navigator.clipboard.writeText(p)}();
