javascript:!async function(){String.prototype.replaceAll=function(e,t){return this.replace(RegExp(e,"g"),t)},console.log("Getting links...");for(var e,t=document.documentElement.innerHTML,n=/href="(sviluppo\.videolezioni\.vis.*lez=[0-9]*)">/gi,l=[];e=n.exec(t);)l.push(e[1].replaceAll("&amp;","&"));document.documentElement.innerHTML=`Checking ${l.length} links...`;let i=async e=>{document.documentElement.innerHTML+=".";try{let t=await fetch("https://didattica.polito.it/portal/pls/portal/"+e),n=await t.text(),l=n.match(/https:\/\/video\.polito\.it\/dl\/.*\.mp4/gi);if(l)return l[0]}catch(i){}return null},o=[];for(let[r,a]of l.entries()){let c=await i(a);c&&o.push(c)}let p=o.join(",");document.documentElement.innerHTML=`Found ${o.length} videos. You can use the following with JDownloader: <br> The text should already be copied into the clipboard <br><br>`,document.documentElement.innerHTML+=`<textarea readonly>${p}</textarea>`,navigator.clipboard.writeText(p)}();
